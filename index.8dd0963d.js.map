{"mappings":"AAMA,MACMA,EAAO,CACXC,MAAOC,SAASC,eAAe,cAC/BC,KAAMF,SAASG,cAAc,iBAC7BC,IAAKJ,SAASG,cAAc,kBAE9BL,EAAKC,MAAMM,iBACT,QACAC,UAASC,IACPA,EAAEC,iBACF,IAAIC,EAAaF,EAAEG,OAAOC,MAAMC,OAGhC,IAAKH,EAGH,OAFAX,EAAKI,KAAKW,UAAY,QACtBf,EAAKM,IAAIS,UAAY,IAGvBC,eAAeL,GACZM,MAAKC,GAQZ,SAAuBC,GACrB,GAAIA,EAAKC,OAAS,GAChBC,SAASC,OAAOC,KACd,mEAEG,GAAIJ,EAAKC,OAAS,GAAKD,EAAKC,OAAS,GAAI,CAC9C,MAAMI,EAASL,EACZM,KAAIC,GACI,qDACIA,EAAKC,MAAMC,wEACaF,EAAKG,KAAKC,+BAG9CC,KAAK,IACR/B,EAAKM,IAAIS,UAAY,GACrBf,EAAKI,KAAKW,UAAYS,MACjB,CACL,MAAMA,EAASL,EACZM,KAAIC,GACI,gEACIA,EAAKC,MAAMC,6DACaF,EAAKG,KAAKG,qHAG3CN,EAAKO,sGAGLP,EAAKQ,wGAEwEC,OAAOC,OACpFV,EAAKW,WACLN,KAAK,cAERA,KAAK,IACR/B,EAAKI,KAAKW,UAAY,GACtBf,EAAKM,IAAIS,UAAYS,GA3CFc,CAAcpB,KAC9BqB,OAAM,KACLvC,EAAKM,IAAIS,UAAY,GACrBf,EAAKI,KAAKW,UAAY,GACtBM,SAASC,OAAOkB,QAAQ,iDAvBT","sources":["src/index.js"],"sourcesContent":["import './css/styles.css';\n// import Notiflix from 'notiflix';\n// import { fetchCountries } from './fetchCountries';\n// console.log('fetchCountries', fetchCountries);\n// var debounce = require('lodash.debounce');\n\nconst DEBOUNCE_DELAY = 300;\nconst refs = {\n  input: document.getElementById('search-box'),\n  list: document.querySelector('.country-list'),\n  div: document.querySelector('.country-info'),\n};\nrefs.input.addEventListener(\n  'input',\n  debounce(e => {\n    e.preventDefault();\n    let valueInput = e.target.value.trim();\n    // console.log('valueInput', valueInput.trim());\n\n    if (!valueInput) {\n      refs.list.innerHTML = '';\n      refs.div.innerHTML = '';\n      return;\n    }\n    fetchCountries(valueInput)\n      .then(country => searchCountry(country))\n      .catch(() => {\n        refs.div.innerHTML = '';\n        refs.list.innerHTML = '';\n        Notiflix.Notify.failure('Oops, there is no country with that name');\n      });\n  }, DEBOUNCE_DELAY)\n);\nfunction searchCountry(city) {\n  if (city.length > 10) {\n    Notiflix.Notify.info(\n      'Too many matches found. Please enter a more specific name.'\n    );\n  } else if (city.length > 1 && city.length < 10) {\n    const markup = city\n      .map(city => {\n        return `<li class=\"country-list__item\">\n        <img src=${city.flags.svg} width=\"50\" alt=\"flag\">\n        <span class=\"country-list__name\">${city.name.official}</span>\n    </li>`;\n      })\n      .join('');\n    refs.div.innerHTML = '';\n    refs.list.innerHTML = markup;\n  } else {\n    const markup = city\n      .map(city => {\n        return `<div class=\"country-info__box\" alt=\"flag\">\n        <img src=${city.flags.svg} width=\"80\">\n        <span class=\"country-info__name\">${city.name.common}</span>\n        </div>\n        <p class=\"country-text\"><span class=\"country-info--accent\">Capital:</span> ${\n          city.capital\n        }</p>\n        <p class=\"country-text\"><span class=\"country-info--accent\">Population:</span> ${\n          city.population\n        }</p>\n        <p class=\"country-text\"><span class=\"country-info--accent\">Languages:</span> ${Object.values(\n          city.languages\n        ).join(', ')}</p>`;\n      })\n      .join('');\n    refs.list.innerHTML = '';\n    refs.div.innerHTML = markup;\n  }\n}\n"],"names":["$1f0dc3b9307be026$var$refs","input","document","getElementById","list","querySelector","div","addEventListener","debounce","e","preventDefault","valueInput","target","value","trim","innerHTML","fetchCountries","then","country","city1","length","Notiflix","Notify","info","markup","map","city","flags","svg","name","official","join","common","capital","population","Object","values","languages","$1f0dc3b9307be026$var$searchCountry","catch","failure"],"version":3,"file":"index.8dd0963d.js.map"}